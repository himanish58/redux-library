(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{14:function(e,t,a){e.exports=a(26)},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(1),s=a(5),u=a(12),i=a(13),d={books:[],searchResults:[],showSearchResults:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=Object(i.a)({},e);switch(t.type){case"add_book":a.books=[].concat(Object(u.a)(a.books),[t.payload]);break;case"edit_book":a.books=a.books.map((function(e){return e.id===t.payload.id?t.payload:e})),a.searchResults=a.searchResults.map((function(e){return e.id===t.payload.id?t.payload:e}));break;case"search_book":var n=t.query;a.searchResults=a.books.filter((function(e){var t=e.title,a=e.description,r=e.author;return t.toLowerCase().includes(n)||a.toLowerCase().includes(n)||r.toLowerCase().includes(n)}));break;case"show_search_results":a.showSearchResults=t.value}return a},b=Object(s.b)(m),h=a(2),p=function(e,t){var a;return function(){clearTimeout(a),a=setTimeout((function(){return e.call(void 0)}),t)}},f={searchBook:function(e){return{type:"search_book",query:e}},showSearchResults:function(e){return{type:"show_search_results",value:e}}},E=Object(o.b)(null,f)((function(e){var t=e.searchBook,a=e.showSearchResults,l=Object(n.useRef)(null);return r.a.createElement("header",null,r.a.createElement("h1",null,"Library"),r.a.createElement("input",{type:"text",ref:l,onChange:p((function(){var e=l.current.value;e?(t(e.toLowerCase()),a(!0)):a(!1)}),300),placeholder:"Search by title, description or author name..."}))})),k={addBook:function(e){return{type:"add_book",payload:e}},editBook:function(e){return{type:"edit_book",payload:e}}},v=Object(o.b)(null,k)((function(e){var t=e.id,a=e.title,l=e.description,c=e.author,o=e.count,s=e.cancelClickHandler,u=e.addBook,i=e.editBook,d=Object(n.useRef)(null),m=Object(n.useRef)(null),b=Object(n.useRef)(null),h=Object(n.useRef)(null);return r.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),e.preventDefault();var a={title:d.current.value,description:m.current.value,author:b.current.value,count:h.current.value};t?(a.id=t,i(a)):(a.id=(new Date).getTime(),u(a)),s()}},t&&r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"label"},"ID: "),t),r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",ref:d,required:!0,placeholder:"Type Title...",id:"title",defaultValue:a}),r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("input",{type:"text",ref:m,required:!0,placeholder:"Type Description...",id:"desc",defaultValue:l}),r.a.createElement("label",{htmlFor:"author"},"Author Name"),r.a.createElement("input",{type:"text",ref:b,required:!0,placeholder:"Type Author Name...",id:"author",defaultValue:c}),r.a.createElement("label",{htmlFor:"count"},"Count"),r.a.createElement("input",{type:"number",ref:h,required:!0,placeholder:"Type Count...",id:"count",defaultValue:o}),r.a.createElement("div",{className:"btn-section"},r.a.createElement("button",{type:"button",className:"cancel-btn",onClick:s},"Cancel"),r.a.createElement("button",{type:"submit",className:"submit-btn"},"Submit")))})),y=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],l=t[1];return a?r.a.createElement(v,{cancelClickHandler:function(){return l(!1)}}):r.a.createElement("div",{className:"add-book",onClick:function(){return l(!0)}},r.a.createElement("div",null,"Add Book +"))},w=function(e){var t=e.book,a=t.id,l=t.title,c=t.description,o=t.author,s=t.count,u=Object(n.useState)(!1),i=Object(h.a)(u,2),d=i[0],m=i[1];return d?r.a.createElement(v,Object.assign({id:a,title:l,description:c,author:o,count:s},{cancelClickHandler:function(){return m(!1)}})):r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"title"},"ID: "),a),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"title"},"Title: "),l),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"title"},"Description: "),c),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"title"},"Author: "),o),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"title"},"Count: "),s),r.a.createElement("button",{className:"edit-btn",onClick:function(){return m(!0)}},"Edit"))},N=(a(25),Object(o.b)((function(e){return{books:e.books,searchResults:e.searchResults,showSearchResults:e.showSearchResults}}))((function(e){var t=e.books,a=e.searchResults,l=e.showSearchResults,c=Object(n.useState)([]),o=Object(h.a)(c,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){u(l?a:t)}),[l,a,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"books-container"},s.length?s.map((function(e){return r.a.createElement(w,{key:e.id,book:e})})):r.a.createElement("div",{className:"blank-state"},"No Books")),r.a.createElement(y,null))})));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:b},r.a.createElement(N,null))),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.514d5dde.chunk.js.map